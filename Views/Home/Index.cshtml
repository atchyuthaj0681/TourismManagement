@model TourismManagement.Models.ViewModels.PackageListViewModel
@using System.Linq
@{
    ViewData["Title"] = "Home";
}

<style>
    /* Hero Carousel */
    .carousel-item img {
        height: 550px;
        object-fit: cover;
        width: 100%;
    }

    /* Scrollable Packages */
    .scroll-container {
        display: flex;
        overflow-x: auto;
        gap: 20px;
        padding: 10px 5px 30px;
        scroll-snap-type: x mandatory;
    }

        .scroll-container::-webkit-scrollbar {
            height: 8px;
        }

        .scroll-container::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 4px;
        }

    .package-card {
        flex: 0 0 auto;
        width: 300px;
        scroll-snap-align: start;
    }

    .card-img-top {
        height: 180px;
        object-fit: cover;
    }

    .card:hover {
        transform: scale(1.03);
        transition: 0.3s ease;
    }

    .btn-group {
        display: flex;
        gap: 10px;
        margin-top: auto;
    }

    .card-body {
        display: flex;
        flex-direction: column;
        height: 100%;
    }
</style>

<!-- ✅ HERO CAROUSEL SECTION -->
<div id="heroCarousel" class="carousel slide mb-5" data-bs-ride="carousel" data-bs-interval="2000" data-bs-wrap="true">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="/images/flight.jpg" class="d-block w-100" alt="Flight Image">
        </div>
        <div class="carousel-item">
            <img src="/images/mountain.jpg" class="d-block w-100" alt="Mountain Image">
        </div>
        <div class="carousel-item">
            <img src="/images/beach.jpg" class="d-block w-100" alt="Beach Image">
        </div>
        <!-- 🔁 Add more images here -->
    </div>

    <!-- 🔄 Manual Controls -->
    <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

<!-- ✅ SCROLLABLE PACKAGE LIST -->
<div class="container">
    <h2 class="mb-4">Explore Active Packages</h2>

    @if (!Model.Packages.Any(p => p.Status == "Active"))
    {
        <p>No active packages available at the moment.</p>
    }
    else
    {
        <div class="scroll-container">
            @foreach (var package in Model.Packages.Where(p => p.Status == "Active"))
            {
                <div class="card package-card shadow-sm">
                    <img src="@package.ImagePath" class="card-img-top" alt="@package.Title" />
                    <div class="card-body">
                        <h5 class="card-title">@package.Title</h5>
                        <p class="card-text mb-3">
                            <strong>Destination:</strong> @package.Destination<br />
                            <strong>Duration:</strong> @package.DurationDays days<br />
                            <strong>Price:</strong> ₹@package.Price.ToString("N0")
                        </p>

                        <div class="btn-group mt-auto">
                            <a href="/Home/PackageDetails/@package.Id" class="btn btn-outline-primary btn-sm w-50">View Details</a>
                            <a href="/Booking/BookNow?packageId=@package.Id" class="btn btn-success btn-sm w-50">Book Now</a>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
</div>
